<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kanban Bord</title>
    <link rel="stylesheet" href="styles.css?v=3" />
  </head>
  <body>
    <div class="app">
      <header id="board-topbar" class="topbar">
        <div class="title-group">
          <input
            id="board-title"
            class="board-title"
            type="text"
            value="Kanban Bord"
            maxlength="60"
            aria-label="Bordtitel"
          />
          <p>Sleep kaartjes, voeg kolommen toe en maak taken aan.</p>
        </div>
        <div class="topbar-actions">
          <button id="copy-link" class="btn ghost">Kopieer link</button>
          <button id="board-password" class="btn ghost">Wachtwoord</button>
          <button id="add-card" class="btn primary">Kaartje toevoegen</button>
          <button id="back-to-boards" class="btn ghost">Terug</button>
        </div>
      </header>

      <section id="login-screen" class="screen auth-panel">
        <div>
          <h2>Login</h2>
          <p class="muted">Log in met je masteraccount.</p>
        </div>
        <form id="auth-form" class="auth-form">
          <label>
            Email
            <input name="email" type="email" required />
          </label>
          <label>
            Wachtwoord
            <input name="password" type="password" minlength="6" required />
          </label>
          <div class="auth-actions">
            <button type="button" id="sign-up" class="btn ghost">Account maken</button>
            <button type="button" id="sign-in" class="btn primary">Inloggen</button>
          </div>
          <p id="auth-status" class="muted"></p>
        </form>
      </section>

      <section id="boards-screen" class="screen boards-screen hidden">
        <header class="boards-header">
          <div>
            <h2>Jouw borden</h2>
            <p class="muted">Klik op een bord om te openen.</p>
          </div>
          <div class="boards-actions">
            <button id="open-create-board" class="btn ghost">Nieuw bord</button>
            <button id="logout" class="btn ghost">Uitloggen</button>
          </div>
        </header>
        <div id="boards-grid" class="boards-grid"></div>
        <p id="boards-status" class="muted"></p>
      </section>

      <main id="board-screen" class="screen hidden">
        <section class="inbox">
          <header class="inbox-header">
            <h3>Processtappen</h3>
            <p class="muted">Sleep naar de tijdlijn om te plaatsen.</p>
          </header>
          <div id="inbox" class="inbox-track" aria-label="Nieuwe kaartjes"></div>
        </section>
        <section class="timeline-board">
          <svg id="timeline-path" class="timeline-path" aria-hidden="true"></svg>
          <div id="board" class="timeline-track" aria-label="Tijdlijn board"></div>
        </section>
      </main>
    </div>

    <dialog id="card-dialog" class="dialog">
      <form method="dialog" id="card-form">
        <h2 id="card-dialog-title">Nieuw kaartje</h2>
        <label>
          Titel
          <input name="title" type="text" maxlength="60" required />
        </label>
        <label>
          Omschrijving
          <textarea name="description" rows="4" maxlength="280"></textarea>
        </label>
        <label>
          Datum
          <input name="date" type="date" />
        </label>
        <fieldset class="color-picker">
          <legend>Kleur</legend>
          <label class="color-option">
            <input type="radio" name="color" value="#8DE0C8" checked />
            <span class="color-dot" style="background:#8DE0C8"></span>
            Groen
          </label>
          <label class="color-option">
            <input type="radio" name="color" value="#faca8e" />
            <span class="color-dot" style="background:#faca8e"></span>
            Oranje
          </label>
          <label class="color-option">
            <input type="radio" name="color" value="#9fc3fa" />
            <span class="color-dot" style="background:#9fc3fa"></span>
            Blauw
          </label>
          <label class="color-option">
            <input type="radio" name="color" value="#c294f8" />
            <span class="color-dot" style="background:#c294f8"></span>
            Paars
          </label>
          <label class="color-option">
            <input type="radio" name="color" value="#fbb7b8" />
            <span class="color-dot" style="background:#fbb7b8"></span>
            Rood
          </label>
          <label class="color-option">
            <input type="radio" name="color" value="#ed80ee" />
            <span class="color-dot" style="background:#ed80ee"></span>
            Roze
          </label>
          <label class="color-option">
            <input type="radio" name="color" value="#6E6E75" />
            <span class="color-dot" style="background:#6E6E75"></span>
            Grijs
          </label>
        </fieldset>
        <menu class="dialog-actions">
          <button type="button" class="btn ghost dialog-cancel">Annuleren</button>
          <button id="card-submit" value="confirm" class="btn primary">Aanmaken</button>
        </menu>
      </form>
    </dialog>

    <dialog id="timeline-dialog" class="dialog timeline-dialog">
      <form method="dialog">
        <h2>Tijdlijn</h2>
        <p class="muted">Alle kaartjes gesorteerd op datum.</p>
        <div id="timeline" class="timeline"></div>
        <menu class="dialog-actions">
          <button type="button" class="btn primary dialog-close">Sluiten</button>
        </menu>
      </form>
    </dialog>

    <dialog id="create-board-dialog" class="dialog">
      <form method="dialog" id="board-create-form">
        <h2>Nieuw board</h2>
        <label>
          Titel
          <input name="title" type="text" maxlength="60" required />
        </label>
        <label>
          Board slug
          <input name="slug" type="text" placeholder="mijn-bord" required />
        </label>
        <label>
          Wachtwoord
          <input name="password" type="password" minlength="6" required />
        </label>
        <p id="board-create-status" class="muted"></p>
        <menu class="dialog-actions">
          <button type="button" class="btn ghost dialog-cancel">Annuleren</button>
          <button id="board-create" value="confirm" class="btn primary">Board maken</button>
        </menu>
      </form>
    </dialog>

    <dialog id="password-dialog" class="dialog">
      <form method="dialog" id="password-form">
        <h2>Wachtwoord instellen</h2>
        <label>
          Nieuw wachtwoord
          <input name="password" type="password" minlength="6" required />
        </label>
        <p id="password-status" class="muted"></p>
        <menu class="dialog-actions">
          <button type="button" class="btn ghost dialog-cancel">Annuleren</button>
          <button id="password-save" value="confirm" class="btn primary">
            Opslaan
          </button>
        </menu>
      </form>
    </dialog>

    <dialog id="access-dialog" class="dialog">
      <form method="dialog" id="access-form">
        <h2>Board openen</h2>
        <p class="muted">Vul het wachtwoord in om dit bord te openen.</p>
        <label>
          Wachtwoord
          <input name="password" type="password" minlength="6" required />
        </label>
        <p id="access-status" class="muted"></p>
        <menu class="dialog-actions">
          <button type="button" class="btn ghost dialog-cancel">Annuleren</button>
          <button id="access-open" value="confirm" class="btn primary">
            Openen
          </button>
        </menu>
      </form>
    </dialog>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="app.js" defer></script>
  </body>
</html>
